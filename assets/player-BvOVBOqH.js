var k=i=>{throw TypeError(i)};var z=(i,t,l)=>t.has(i)||k("Cannot "+l);var s=(i,t,l)=>(z(i,t,"read from private field"),l?l.call(i):t.get(i));var n=(i,t,l)=>t.has(i)?k("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,l);var e=(i,t,l,c)=>(z(i,t,"write to private field"),c?c.call(i,l):t.set(i,l),l);(function(){"use strict";var c,w,r,f,R,m,a,y;function i(O,g=-1,h=1){return O<g?g:h<O?h:O}function t(O,g=0,h=1){return((O-g)%(h-g)+(h-g))%(h-g)+g}class l extends AudioWorkletProcessor{constructor(h){var p,P,V,F;super();n(this,c,new Float32Array([0]));n(this,w,new Float32Array([0]));n(this,r,0);n(this,f,0);n(this,R,0);n(this,m,false);n(this,a,0);n(this,y,0);const b=((p=h==null?void 0:h.processorOptions)==null?void 0:p.fadems)?(P=h==null?void 0:h.processorOptions)==null?void 0:P.fadems:10;e(this,a,((V=h==null?void 0:h.processorOptions)==null?void 0:V.autoplay)?1:0);e(this,m,(F=h==null?void 0:h.processorOptions)==null?void 0:F.loop);const A=b*sampleRate/1e3;e(this,R,1/A);this.port.onmessage=({data:u})=>{if(u.buffers){e(this,c,u.buffers[0]);e(this,w,u.buffers[1])}if(u.play===1){if(s(this,r)>=s(this,c).length)e(this,y,1);e(this,a,1)}if(u.play===0)e(this,a,0);if(u.play===-1)e(this,a,-1);if(u.restart){e(this,y,1);e(this,a,1)}if(u.loop)e(this,m,u.loop);if(u.reset)e(this,y,1)}}static get parameterDescriptors(){return[{name:"gain",defaultValue:1,minValue:0,maxValue:1}]}process(h,b,A){for(let p=0;p<b[0][0].length;p++){b[0][0][p]=(s(this,c)[s(this,r)]||0)*A.gain[0]*s(this,f);b[0][1][p]=(s(this,w)[s(this,r)]||0)*A.gain[0]*s(this,f);if(b[1].length>0)b[1][0][p]=s(this,r)/s(this,c).length;if(s(this,a)===1){e(this,f,s(this,f)+s(this,R));if(s(this,f)>1)e(this,f,1)}else{e(this,f,s(this,f)-s(this,R));if(s(this,f)<0)e(this,f,0)}if(s(this,f)!==0){e(this,r,s(this,r)+1);e(this,r,s(this,m)===true?t(s(this,r),0,s(this,c).length):i(s(this,r),0,s(this,c).length))}if(s(this,a)===-1&&s(this,f)===0){e(this,r,0)}if(s(this,y)===1){e(this,y,0);e(this,r,0)}}return true}}c=new WeakMap;w=new WeakMap;r=new WeakMap;f=new WeakMap;R=new WeakMap;m=new WeakMap;a=new WeakMap;y=new WeakMap;registerProcessor("player",l)})();
